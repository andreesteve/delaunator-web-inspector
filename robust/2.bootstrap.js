(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,function(e,t,n){"use strict";n.r(t);var o=function(e,t,n,o){const r=document.getElementById(n),l=r.getContext("2d"),i=window.devicePixelRatio,s=+getComputedStyle(r).getPropertyValue("height").slice(0,-2),a=+getComputedStyle(r).getPropertyValue("width").slice(0,-2);r.setAttribute("height",s*i),r.setAttribute("width",a*i);const c=r.width,u=r.height;let f=1/0,d=1/0,g=-1/0,h=-1/0;for(let t=0;t<e.length;t+=2)f=Math.min(e[t],f),d=Math.min(e[t+1],d),g=Math.max(e[t],g),h=Math.max(e[t+1],h);const m=.75*Math.min(c/(g-f),u/(h-d));l.setTransform(1,0,0,1,0,0),l.fillStyle="white",l.fillRect(0,0,c,u),console.log(c*u),l.fillStyle="black",l.font="0.05em serif",l.translate(c/2,u/2),l.scale(m,m),l.translate(-(f+g)/2,-(d+h)/2),l.lineWidth=1/m,l.beginPath(),function(e,t,n){for(let o=0,r=t.halfedges.length;o<r;++o)if(o>t.halfedges[o]){const r=t.triangles[o],l=t.triangles[o%3==2?o-2:o+1];n.moveTo(e[2*r],e[2*r+1]),n.lineTo(e[2*l],e[2*l+1])}}(e,t,l),l.strokeStyle="blue",l.stroke(),l.beginPath(),function(e,t,n){for(let o=0,r=t.halfedges.length;o<r;++o){const r=t.halfedges[o];if(o<r){const l=t.triangles[o],i=t.triangles[r];n.moveTo(e[2*l],e[2*l+1]),n.lineTo(e[2*i],e[2*i+1])}}}(e,t,l),l.strokeStyle="red",l.stroke(),l.beginPath(),function(e,t,n=2.5,o=!0){for(let r=0;r<e.length;r+=2){const l=e[r],i=e[r+1];t.moveTo(l+n,i),t.arc(l,i,n,0,2*Math.PI),o&&t.fillText(r/2,l-4*n,i-4*n)}}(e,l,1.5/m,o),l.fillStyle="black",l.fill()};var r=n(2),l=n(7),i={wasm:"",js:"5.0.0"};function s(e){e.length%2==1&&e.pop();const{result:t,elapsed:n}=function(e){console.log(`WASM: starting triangulation for ${e.length} points.`);const t=performance.now(),n=r.f(e),o=(performance.now()-t).toFixed(2),l=(n[0],n[1]),i=n[2],s={triangles:n.slice(4,4+l),halfedges:n.slice(4+l,4+l+i),hull:n.slice(4+l+i,n.length)},a=(performance.now()-t).toFixed(2),c=(a-o).toFixed(2);return console.log(`WASM: finished - ${a} ms (wasm: ${o} ms, js: ${c} ms).`),{result:s,elapsed:a}}(e),{result:o,elapsed:i}=function(e){console.log(`JS: starting triangulation for ${e.length} points.`);const t=performance.now(),n=new l.a(e),o={triangles:n.triangles,halfedges:n.halfedges,hull:n.hull},r=(performance.now()-t).toFixed(2);return console.log(`JS: finished - ${r} ms.`),{result:o,elapsed:r}}(e);var s;return t.halfedges=(s=t.halfedges,t.empty,new Int32Array(s)),{points:e,rs:t,rsElapsed:n,js:o,jsElapsed:i,showLabels:e.length<60}}function a(e=10){return console.log(`Generating ${e} points`),s(function(e){const t=2*e,n=new Float64Array(t);for(let e=0;e<t;e++)n[e]=10*Math.random()+4*Math.random()+Math.random();return n}(e))}i.wasm=r.e();var c=n(5);var u=n(6);function f(){if(window.location.hash){try{return u.decode_array(window.location.hash.substring(1))}catch(e){console.error(e)}return null}return null}function d(e){console.log("Draw started"),o(e.points,e.rs,"wasm",e.showLabels),o(e.points,e.js,"js",e.showLabels),console.log("Draw finished")}var g=null;function h(e){g=e,d(e);const t=[];for(let n=0;n<e.points.length;n+=2)t.push([e.points[n],e.points[n+1]]);document.getElementById("points").value=JSON.stringify(t),document.getElementById("js-elapsed").textContent=e.jsElapsed,document.getElementById("wasm-elapsed").textContent=e.rsElapsed,document.getElementById("diff").innerHTML="",document.getElementById("hashinput").value=function(e){let t=window.location.origin+window.location.pathname+"#";return t+=u.encode_array(e),console.log(t),t}(Array.from(e.points))}function m({points:e,size:t}){h(e?s(e):a(t||10))}for(const e of document.getElementsByClassName("generator"))e.addEventListener("click",(function(){m({size:this.dataset.size})}));window.addEventListener("resize",(function(){g&&d(g)})),document.getElementById("show-diff").addEventListener("click",(function(){g.points.length>1e3?alert("Differences is disabled for large input."):(console.log("Calculating diff"),function(e,t){const n=JSON.stringify(e,null,"\t"),o=JSON.stringify(t,null,"\t");var r=c.createTwoFilesPatch("delaunator-rs","delaunator (js)",n,o),l=document.getElementById("diff"),i=new Diff2HtmlUI(l,r,{drawFileList:!1,fileListToggle:!1,fileListStartVisible:!1,fileContentToggle:!1,matching:"lines",outputFormat:"side-by-side",synchronisedScroll:!0,highlight:!0,renderNothingWhenEmpty:!1});i.draw(),i.highlightCode()}(g.rs,g.js))})),document.getElementById("showHideLabels").addEventListener("click",(function(){g.showLabels=!g.showLabels,d(g)})),document.getElementById("copyurl").addEventListener("click",(function(){const e=document.getElementById("hashinput");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")})),document.getElementById("points").addEventListener("change",(function(){const e=document.getElementById("points").value,t=document.getElementById("points_message");try{const n=JSON.parse(e);if(!Array.isArray(n))throw"Input is not an array.";t.textContent="",h(s(n.flatMap(e=>e)))}catch(e){t.textContent=e.toString(),console.error(e)}})),window.addEventListener("hashchange",(function(){m({points:f()})}));const w=i;document.getElementById("wasm-version").textContent=w.wasm,document.getElementById("js-version").textContent=w.js,m({points:f()})},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return B})),n.d(t,"d",(function(){return L}));var o=n(4);const r=new Array(32).fill(void 0);function l(e){return r[e]}r.push(void 0,null,!0,!1);let i=r.length;function s(e){const t=l(e);return function(e){e<36||(r[e]=i,i=e)}(e),t}let a=null;function c(){return null!==a&&a.buffer===o.f.buffer||(a=new Int32Array(o.f.buffer)),a}let u=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});u.decode();let f=null;function d(){return null!==f&&f.buffer===o.f.buffer||(f=new Uint8Array(o.f.buffer)),f}function g(e,t){return u.decode(d().subarray(e,e+t))}function h(){try{const n=o.a(-16);o.e(n);var e=c()[n/4+0],t=c()[n/4+1];return g(e,t)}finally{o.a(16),o.b(e,t)}}let m=null;let w=0;function p(e,t){const n=t(8*e.length);return(null!==m&&m.buffer===o.f.buffer||(m=new Float64Array(o.f.buffer)),m).set(e,n/8),w=e.length,n}let y=null;function b(e,t){return(null!==y&&y.buffer===o.f.buffer||(y=new Uint32Array(o.f.buffer)),y).subarray(e/4,e/4+t)}function E(e){try{const s=o.a(-16);var t=p(e,o.c),n=w;o.g(s,t,n);var r=c()[s/4+0],l=c()[s/4+1],i=b(r,l).slice();return o.b(r,4*l),i}finally{o.a(16)}}let v=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const x="function"==typeof v.encodeInto?function(e,t){return v.encodeInto(e,t)}:function(e,t){const n=v.encode(e);return t.set(n),{read:e.length,written:n.length}};function I(){return function(e){i===r.length&&r.push(r.length+1);const t=i;return i=r[t],r[t]=e,t}(new Error)}function S(e,t){var n=function(e,t,n){if(void 0===n){const n=v.encode(e),o=t(n.length);return d().subarray(o,o+n.length).set(n),w=n.length,o}let o=e.length,r=t(o);const l=d();let i=0;for(;i<o;i++){const t=e.charCodeAt(i);if(t>127)break;l[r+i]=t}if(i!==o){0!==i&&(e=e.slice(i)),r=n(r,o,o=i+3*e.length);const t=d().subarray(r+i,r+o);i+=x(e,t).written}return w=i,r}(l(t).stack,o.c,o.d),r=w;c()[e/4+1]=r,c()[e/4+0]=n}function B(e,t){try{console.error(g(e,t))}finally{o.b(e,t)}}function L(e){s(e)}}).call(this,n(3)(e))},,function(e,t,n){"use strict";var o=n.w[e.i];e.exports=o;n(2);o.h()}]]);